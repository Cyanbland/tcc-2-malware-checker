import os
import streamlit as st
from dotenv import load_dotenv

from cookies import Cookies
import sidebar

if 'auth_status' not in st.session_state:
    st.session_state.auth_status = 'Not Authenticated'

cookie_manager = Cookies()

# Main function to control the app flow
def main():
    global cookie_manager
    load_dotenv()

    api_endpoint = os.getenv("API_ENDPOINT")
    cookies_password = os.getenv("COOKIES_PASSWORD")
    jwt_secret = os.getenv("JWT_SECRET")

    if not api_endpoint:
        print("API_ENDPOINT is not defined in the .env file.")
        return
    
    if not cookies_password:
        print("COOKIES_PASSWORD is not defined in the .env file.")
        return
    
    if not jwt_secret:
        print("JWT_SECRET is not defined in the .env file.")
        return

    
    

    st.header("Malcheck Platform")

    sidebar.sidebar()

main()
